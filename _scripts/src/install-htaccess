# Mod rewrite
RewriteEngine On
RewriteBase /

# Always remove www.
#RewriteCond %{HTTP_HOST} .
#RewriteCond %{HTTP_HOST} !^example-domain-please-change\.com [NC]
#RewriteRule (.*) http://example-domain-please-change.com/$1 [R=301,L]

# Route all requests to index.php unless real file or folder
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]

# Disallow directory listing
Options -Indexes

# Limit access to sub directories
<FilesMatch "(\.gitignore|composer\.json|composer\.lock|composer\.phar|LICENSE|local\.php|local-default\.php|phinx\.yml|README\.md)">
   Require all denied
</FilesMatch>