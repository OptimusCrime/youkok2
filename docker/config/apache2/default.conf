<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html/public

    <Directory "/var/www/html/public/">
        RewriteEngine On
        RewriteBase /

        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^(.*)$ index.php [QSA]
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # Apache settings
    ServerSignature Off

    # Default PHP settings
    php_value max_execution_time 30
    php_value max_input_time 60
    php_value memory_limit 128M
    php_value error_reporting E_ALL
    php_value display_errors On
    php_value display_startup_errors On
    php_value log_errors On
    php_value error_log /var/log/apache2/php.log
    php_value log_errors_max_len 1024
    php_value ignore_repeated_errors Off
    php_value ignore_repeated_source Off
    php_value report_memleaks On
    php_value file_uploads On
    php_value upload_max_filesize 64M
    php_value max_file_uploads 20
    php_value allow_url_fopen On
    php_value cli_server.color On
    php_value date.timezone Europe/Oslo
    php_value expose_php Off


    # Include the production configuration if it exists
    IncludeOptional /etc/apache2/sites-enabled/production.conf
</VirtualHost>