version: '2'

services:

  ###############################################
  #                   Database                  #
  ###############################################

  db:
    container_name: "youkok2_db_dev"
    env_file:
      - common.env
      - dev.env

  ###############################################
  #                    Cache                    #
  ###############################################

  cache:
    container_name: "youkok2_cache_dev"
    ports:
      - "6379:6379"

  ###############################################
  #                  Webserver                  #
  ###############################################

  server:
    container_name: "youkok2_web_dev"
    env_file:
      - common.env
      - dev.env
    volumes:
      - ./youkok2:/var/www/html
      - ./docker/logs:/volume_data/logs
      - ./docker/files:/volume_data/files
      - ./docker/cache:/volume_data/cache
      - ./docker/xdebug:/tmp/xdebug
    build:
      args:
        - YOUKOK_ENV=dev
