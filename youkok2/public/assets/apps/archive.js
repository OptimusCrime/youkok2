!function(e){function t(t){for(var n,i,u=t[0],c=t[1],o=t[2],s=0,f=[];s<u.length;s++)i=u[s],a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);f.length;)f.shift()();return l.push.apply(l,o||[]),r()}function r(){for(var e,t=0;t<l.length;t++){for(var r=l[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==a[c]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={1:0},l=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="assets/apps/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var d=c;l.push([214,0]),r()}({102:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ARCHIVE_FETCH_STARTED="ARCHIVE_FETCH_STARTED",t.ARCHIVE_FETCH_FINISHED="ARCHIVE_FETCH_FINISHED",t.ARCHIVE_FETCH_FAILED="ARCHIVE_FETCH_FAILED"},104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ELEMENT_TYPE_DIRECTORY="DIRECTORY",t.TEMP_CACHE_PREFIX="youkok2_archive_cache__",t.TEMP_CACHE_TIMEOUT_IN_SECONDS=120},105:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorageKeyForCurrentUri=t.removeExpiredCache=void 0;var n=r(104),a=r(106);t.removeExpiredCache=function(){(0,a.getAllKeys)().filter(function(e){return e.startsWith(n.TEMP_CACHE_PREFIX)}).forEach(function(e){var t=JSON.parse((0,a.getItem)(e));t.timeout&&(new Date).getTime()>t.timeout&&(0,a.removeItem)(e)})},t.getLocalStorageKeyForCurrentUri=function(){return""+n.TEMP_CACHE_PREFIX+window.location.pathname.replace(/\//g,"_")}},106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getAllKeys=function(){try{return Object.keys(localStorage)}catch(e){return[]}};var n=t.getItem=function(e){try{return localStorage.getItem(e)}catch(e){return null}};t.keyExists=function(e){return null!==n(e)},t.setItem=function(e,t){try{return localStorage.setItem(e,t)}catch(e){}},t.removeItem=function(e){try{return localStorage.removeItem(e)}catch(e){}}},18:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TYPE_LINK="LINK",t.TYPE_FILE="FILE",t.TYPE_DIRECTORY="DIRECTORY",t.TYPE_COURSE="COURSE"},214:function(e,t,r){"use strict";var n=d(r(0)),a=d(r(16)),l=r(2),i=d(r(223)),u=r(226),c=r(105),o=r(245);function d(e){return e&&e.__esModule?e:{default:e}}var s=window.__INITIAL_STATE__,f=(0,i.default)(s);(0,c.removeExpiredCache)(),(0,o.initArchive)(f),a.default.render(n.default.createElement(l.Provider,{store:f},n.default.createElement(u.MainComponent,null)),document.getElementById("archive"))},223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[a.default];return(0,n.createStore)(l.default,e,(0,n.compose)(n.applyMiddleware.apply(void 0,t),function(e){return e}))};var n=r(9),a=i(r(27)),l=i(r(224));function i(e){return e&&e.__esModule?e:{default:e}}},224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),a=r(225),l=(0,n.combineReducers)({archive:a.archive});t.default=l},225:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.archive=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(102),l={archive:{},started:!1,finished:!1,failed:!1};t.archive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.ARCHIVE_FETCH_STARTED:return n({},e,{started:!0});case a.ARCHIVE_FETCH_FINISHED:return n({},e,{finished:!0,started:!1,archive:t.data});case a.ARCHIVE_FETCH_FAILED:return n({},e,{failed:!0,started:!1});default:return e}}},226:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainComponent=void 0;var n=i(r(0)),a=i(r(227)),l=r(244);function i(e){return e&&e.__esModule?e:{default:e}}t.MainComponent=function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-xs-12"},n.default.createElement(l.Breadcrumbs,null))),n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-xs-12 archive-title"},n.default.createElement("h1",null,window.SITE_DATA.archive_title),null===window.SITE_DATA.archive_sub_title?"":n.default.createElement(n.default.Fragment,null," ",n.default.createElement("span",null,"–")," ",n.default.createElement("h2",null,window.SITE_DATA.archive_sub_title)))),n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-xs-12"},n.default.createElement(a.default,null))))}},227:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),l=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(2),u=r(228),c=r(7),o=r(241),d=r(242),s=r(243);var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.failed,r=e.started,n=e.finished,a=e.archive;return window.SITE_DATA.archive_empty?l.default.createElement("div",{id:"archive-empty",className:"well"},l.default.createElement("p",null,"Ingen filer eller linker!"),l.default.createElement("p",null,"Det er visst ingen filer eller linker her. Du kan bidra ved å laste opp filer eller poste linker i panelet til høyre. Pass på at du leser våre ",l.default.createElement("a",{href:"#"},"retningslinjer")," før du eventuelt gjør dette."),l.default.createElement("p",null,"- YouKok2")):t?l.default.createElement(d.ArchiveList,null,l.default.createElement(s.ArchiveError,null)):(0,c.loading)(r,n)?l.default.createElement(d.ArchiveList,null,l.default.createElement(o.StencilArchiveList,{size:10})):l.default.createElement(d.ArchiveList,null,a.map(function(e,t){return l.default.createElement(u.ArchiveRow,{key:t,item:e})}))}}]),t}();t.default=(0,i.connect)(function(e){var t=e.archive;return{failed:t.failed,started:t.started,finished:t.finished,archive:t.archive}},{})(f)},228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveRow=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),a=r(7),l=r(104),i=r(18);t.ArchiveRow=function(e){var t=e.item;return n.default.createElement("a",{className:"archive-row",href:t.url,title:t.type===i.TYPE_LINK?t.link:"",target:t.type===i.TYPE_LINK?"_blank":"_self"},n.default.createElement("div",{className:"archive-row__icon"},n.default.createElement("div",{style:{backgroundImage:"url('assets/images/icons/"+t.icon+"')"}})),n.default.createElement("div",{className:"archive-row__name"},n.default.createElement("span",null,t.name)),n.default.createElement("div",{className:"archive-row__downloads"},n.default.createElement("span",null,t.type===l.ELEMENT_TYPE_DIRECTORY?"":(0,a.formatNumber)(t.downloads))),n.default.createElement("div",{className:"archive-row__age"},n.default.createElement("span",null,t.added)))}},241:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StencilArchiveList=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),a=r(7);t.StencilArchiveList=function(e){var t=e.size,r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Array(t).keys()));return n.default.createElement(n.default.Fragment,null,r.map(function(e){return n.default.createElement("div",{key:e,className:"archive-row"},n.default.createElement("div",{className:"archive-row__icon"},n.default.createElement("div",{className:"stencil-archive__row stencil-archive__icon"})),n.default.createElement("div",{className:"archive-row__name"},n.default.createElement("div",{className:"stencil-archive__row stencil-archive__name stencil_archive__name--"+(0,a.randomBetween)(0,t)})),n.default.createElement("div",{className:"archive-row__downloads"},n.default.createElement("div",{className:"stencil-archive__row stencil-archive__downloads stencil-archive__downloads--"+(0,a.randomBetween)(0,t)})),n.default.createElement("div",{className:"archive-row__age"},n.default.createElement("div",{className:"stencil-archive__row stencil-archive__age"})))}))}},242:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveList=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.ArchiveList=function(e){var t=e.children;return n.default.createElement("div",{className:"archive-list"},n.default.createElement("div",{className:"archive-row archive-row__header"},n.default.createElement("div",{className:"archive-row__icon"}),n.default.createElement("div",{className:"archive-row__name"},n.default.createElement("strong",null,"Navn")),n.default.createElement("div",{className:"archive-row__downloads"},n.default.createElement("strong",null,"Nedlastninger")),n.default.createElement("div",{className:"archive-row__age"},n.default.createElement("strong",null,"Postet"))),t)}},243:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveError=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.ArchiveError=function(){return n.default.createElement("div",{className:"archive-row archive-row__error"},n.default.createElement("div",{className:"archive-row__icon"}),n.default.createElement("div",{className:"archive-row__name"},n.default.createElement("span",null,"Kunne ikke hente innhold")))}},244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumbs=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var a=function(e){var t=e.parent;return e.index+1===e.numParents?n.default.createElement("li",null,t.name||t.courseCode):n.default.createElement("li",null,n.default.createElement("a",{href:t.url},t.name||t.courseCode))};t.Breadcrumbs=function(){return n.default.createElement("ol",{className:"breadcrumb"},n.default.createElement("li",null,n.default.createElement("a",{href:window.SITE_DATA.archive_url_frontpage},"Hjem")),n.default.createElement("li",null,n.default.createElement("a",{href:window.SITE_DATA.archive_url_courses},"Emner")),window.SITE_DATA.archive_parents.map(function(e,t){return n.default.createElement(a,{key:t,parent:e,index:t,numParents:window.SITE_DATA.archive_parents.length})}))}},245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initArchive=void 0;var n=r(105),a=r(106),l=r(246),i=r(102);t.initArchive=function(e){if(!window.SITE_DATA.archive_empty){var t=(0,n.getLocalStorageKeyForCurrentUri)();if((0,a.keyExists)(t)){var r=JSON.parse((0,a.getItem)(t));if(r.data)return e.dispatch({type:i.ARCHIVE_FETCH_FINISHED,data:r.data})}e.dispatch((0,l.fetchArchive)())}}},246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchArchive=void 0;var n=r(247),a=r(102),l=r(104),i=r(106),u=r(105);t.fetchArchive=function(){return function(e){e({type:a.ARCHIVE_FETCH_STARTED}),(0,n.fetchArchiveRest)().then(function(e){return e.json()}).then(function(t){e({type:a.ARCHIVE_FETCH_FINISHED,data:t});var r=(new Date).getTime()+1e3*l.TEMP_CACHE_TIMEOUT_IN_SECONDS;(0,i.setItem)((0,u.getLocalStorageKeyForCurrentUri)(),JSON.stringify({data:t,timeout:r}))}).catch(function(){return e({type:a.ARCHIVE_FETCH_FAILED})})}}},247:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchArchiveRest=function(){return fetch("/rest/archive/"+window.SITE_DATA.archive_id)}},7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatJavaScriptDateHumanReadable=t.fromDatabaseDateToJavaScriptDate=t.randomBetween=t.loading=t.formatThousandNumber=t.formatNumber=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(r(39)),l=i(r(32));function i(e){return e&&e.__esModule?e:{default:e}}t.formatNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},t.formatThousandNumber=function(e){return e<=999?e:e%1e3==0?e/1e3+"k":(e/1e3).toFixed(1)+"k"},t.loading=function(e,t){return!e&&!t||e&&!t},t.randomBetween=function(e,t){return Math.floor(Math.random()*t)+e},t.fromDatabaseDateToJavaScriptDate=function(e){var t=e.split(" "),r=n(t,2),a=r[0],l=r[1],i=a.split("-").map(function(e){return parseInt(e)}),u=n(i,3),c=u[0],o=u[1],d=u[2],s=l.split(":").map(function(e){return parseInt(e)}),f=n(s,3),v=f[0],_=f[1],m=f[2];return new Date(c,o-1,d,v,_,m)},t.formatJavaScriptDateHumanReadable=function(e){return(0,a.default)(e,"D. MMM YYYY @ HH:mm:ss",{locale:l.default})}}});