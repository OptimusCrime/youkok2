!function(e){function t(t){for(var r,o,i=t[0],u=t[1],d=t[2],s=0,f=[];s<i.length;s++)o=i[s],a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(c&&c(t);f.length;)f.shift()();return l.push.apply(l,d||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={13:0},l=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="assets/apps/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=u;l.push([559,0]),n()}({100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(l),i=n(2),u=n(18),d=n(62),c=n(43);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=e.files.reduce(function(e,t){return r({},e,s({},"closed_"+t.id,!1))},{}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.files,a=n.course;return r.map(function(n){return o.default.createElement("ul",{className:"file-listing",key:n.id},o.default.createElement("li",null,o.default.createElement("div",{className:"file-listing--inner"},n.children&&n.children.length>0&&o.default.createElement("i",{className:"fa file-listing--collapse fa-caret-"+(e.state["closed_"+n.id]?"up":"down"),onClick:function(){return e.setState(s({},"closed_"+n.id,!e.state["closed_"+n.id]))}}),o.default.createElement("i",{className:"fa file-listing--type "+function(e){switch(e){case u.TYPE_LINK:return"fa-link";case u.TYPE_FILE:return"fa-file-o";case u.TYPE_DIRECTORY:case u.TYPE_COURSE:default:return"fa-folder-o"}}(n.type)}),o.default.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.props.showEditFileModal(a,n.id)},className:(n.deleted?"file-listing--deleted":"")+" "+(n.pending?"file-listing--pending":"")},n.type===u.TYPE_LINK?n.name+" ("+n.link+")":n.name),(n.type===u.TYPE_COURSE||n.type===u.TYPE_DIRECTORY)&&o.default.createElement("i",{className:"fa fa-plus-square file-listing--subdir",onClick:function(){return e.props.showCreateDirectoryModal(n.id,a,n.type===u.TYPE_COURSE?type.courseCode+": "+n.courseName:n.name)}}),o.default.createElement("a",{href:n.url,target:"_blank"},o.default.createElement("i",{className:"fa file-listing--external fa-external-link"}))),!e.state["closed_"+n.id]&&n.children&&n.children.length>0&&o.default.createElement("div",{className:"file-listing--children"},o.default.createElement(t,{files:n.children,course:a,showCreateDirectoryModal:e.props.showCreateDirectoryModal,showEditFileModal:e.props.showEditFileModal}))))})}}]),t}(),E={showCreateDirectoryModal:d.showCreateDirectoryModal,showEditFileModal:c.showEditFileModal};t.default=(0,i.connect)(function(){return{}},E)(f)},101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileListingBox=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.FileListingBox=function(e){var t=e.children,n=e.content,a=e.box_title_class,l=void 0===a?"":a,o=e.disabled;return r.default.createElement("div",{className:"box "+(o?"disabled":"")},r.default.createElement("div",{className:"box-header with-border"},r.default.createElement("h2",{className:"box-title "+l},t)),r.default.createElement("div",{className:"body-box"},r.default.createElement("div",{className:"files-listing"},n)))}},137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=n(2),l=n(7),o=u(n(138)),i=u(n(139));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.connect)(function(e){var t=e.files,n=e.createDirectory,r=e.editFile;return{started:t.started,finished:t.finished,failed:t.failed,showCreateDirectoryModal:n.showModal,showEditFileModal:r.showModal}})(function(e){var t=e.started,n=e.finished,a=e.failed,u=e.children,d=e.showCreateDirectoryModal,c=e.showEditFileModal;return a?r.default.createElement("p",null,"Her gikk visst noe galt..."):(0,l.loading)(t,n)?r.default.createElement("div",{className:"admin-files-loading"},r.default.createElement("p",null,"Laster...")):r.default.createElement(r.default.Fragment,null,d&&r.default.createElement(o.default,null),c&&r.default.createElement(i.default,null),u)})},138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(59),l=n(60),o=n(61),i=n(79),u=n(2),d=n(62),c=n(78);var s={hideCreateDirectoryModal:d.hideCreateDirectoryModal,updateModalValue:d.updateModalValue,postAdminCreateDirectory:d.postAdminCreateDirectory};t.default=(0,u.connect)(function(e){var t=e.createDirectory;return{title:t.title,value:t.value,directoryId:t.directoryId,courseId:t.courseId}},s)(function(e){var t=e.title,n=e.value,u=e.directoryId,d=e.courseId;return r.default.createElement(a.Modal,{onClose:e.hideCreateDirectoryModal},r.default.createElement(l.ModalTitle,{onClose:e.hideCreateDirectoryModal,title:t}),r.default.createElement(o.ModalBody,null,r.default.createElement("div",{className:"form-group"},r.default.createElement("label",{htmlFor:"element-name"},"Navn"),r.default.createElement("input",{type:"text",className:"form-control",value:n,onChange:function(t){return e.updateModalValue(t.target.value)},onKeyDown:function(t){t.keyCode===c.KEYCODE_ENTER&&e.postAdminCreateDirectory(u,d,n)}}))),r.default.createElement(i.ModalFooter,null,r.default.createElement("button",{type:"button",className:"btn btn-default",onClick:e.hideCreateDirectoryModal},"Lukk"),r.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.postAdminCreateDirectory(u,d,n)}},"Lagre")))})},139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(0)),a=n(59),l=n(60),o=n(61),i=d(n(140)),u=n(2);function d(e){return e&&e.__esModule?e:{default:e}}var c={hideEditFileModal:n(43).hideEditFileModal};t.default=(0,u.connect)(function(e){return{fetchStarted:e.editFile.fetchStarted}},c)(function(e){var t=e.fetchStarted,n=e.fetchFailed;return t?r.default.createElement(a.Modal,{onClose:e.hideEditFileModal},r.default.createElement(l.ModalTitle,{onClose:e.hideEditFileModal,title:"Laster..."}),r.default.createElement(o.ModalBody,null,r.default.createElement("p",null,"Vennligst vent..."))):n?r.default.createElement(a.Modal,{onClose:e.hideEditFileModal},r.default.createElement(l.ModalTitle,{onClose:e.hideEditFileModal,title:"Noe gikk galt"}),r.default.createElement(o.ModalBody,null,r.default.createElement("p",null,"Kunne ikke laste element fra databasen."))):r.default.createElement(i.default,null)})},140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),l=n(59),o=n(60),i=n(61),u=n(79),d=n(43),c=n(2),s=n(18),f=n(44);var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.fileId,r=t.courseId,d=t.data,c=t.putStarted,f=d.title,E=d.id,_=d.parent,p=d.type,m=d.name,I=d.slug,D=d.uri,h=d.checksum,T=d.file_exists,M=d.size,y=d.course_tree,F=d.empty,v=d.directory,A=d.pending,b=d.deleted,N=d.link;return a.default.createElement(l.Modal,{onClose:this.props.hideEditFileModal},a.default.createElement(o.ModalTitle,{onClose:this.props.hideEditFileModal,title:f}),a.default.createElement(i.ModalBody,null,a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-name"},"ID"),a.default.createElement("input",{type:"text",className:"form-control",id:"element-id",disabled:!0,value:E||"",onChange:function(){}})),a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-type"},"Type"),a.default.createElement("input",{type:"text",className:"form-control",id:"element-type",disabled:!0,value:p||"",onChange:function(){}})),a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-name"},"Navn"),a.default.createElement("input",{type:"text",className:"form-control",id:"element-name",value:m||"",onChange:function(t){return e.props.editFileChangeValue("name",t.target.value)}})),a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-slug"},"Slug"),a.default.createElement("input",{type:"text",className:"form-control",id:"element-slug",value:p===s.TYPE_LINK?"":I||"",disabled:p===s.TYPE_LINK,onChange:function(t){return e.props.editFileChangeValue("slug",t.target.value)}})),a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-uri"},"URI"),a.default.createElement("input",{type:"text",className:"form-control",id:"element-uri",value:p===s.TYPE_LINK?"":D||"",disabled:p===s.TYPE_LINK,onChange:function(t){return e.props.editFileChangeValue("uri",t.target.value)}})),_&&a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-parent"},"Forelder"),a.default.createElement("select",{className:"form-control",onChange:function(t){return e.props.editFileChangeParent(t.target.value)},value:_},y.map(function(e){return a.default.createElement("option",{key:e.id,value:e.id},e.name+(e.id===E?" (Gjeldende element)":""))}))),a.default.createElement("div",{className:"form-group "+(p!==s.TYPE_FILE?"":T?"has-success":"has-error")},a.default.createElement("label",{htmlFor:"element-checksum"},"Checksum"),a.default.createElement("input",{type:"text",className:"form-control",id:"element-checksum",value:p===s.TYPE_FILE&&h||"",disabled:p!==s.TYPE_FILE,onChange:function(t){return e.props.editFileChangeValue("checksum",t.target.value)}}),p===s.TYPE_FILE&&a.default.createElement("span",{className:"help-block"},T?"File in place.":"File missing!")),a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-size"},"Størrelse"),a.default.createElement("input",{type:"number",className:"form-control",id:"element-size",value:p===s.TYPE_FILE?"":M||"",disabled:p===s.TYPE_FILE,onChange:function(t){return e.props.editFileChangeValue("size",t.target.value)}})),a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{className:"checkbox-inline"},a.default.createElement("input",{type:"checkbox",checked:1===F,onChange:function(){return e.props.editFileToggleCheckbox("empty")}})," Empty"),a.default.createElement("label",{className:"checkbox-inline"},a.default.createElement("input",{type:"checkbox",checked:1===v,onChange:function(){return e.props.editFileToggleCheckbox("directory")}})," Directory"),a.default.createElement("label",{className:"checkbox-inline"},a.default.createElement("input",{type:"checkbox",checked:1===A,onChange:function(){return e.props.editFileToggleCheckbox("pending")}})," Pending"),a.default.createElement("label",{className:"checkbox-inline"},a.default.createElement("input",{type:"checkbox",checked:1===b,onChange:function(){return e.props.editFileToggleCheckbox("deleted")}})," Deleted")),a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"element-link"},"Link"),a.default.createElement("input",{type:"url",className:"form-control",id:"element-link",value:N||"",onChange:function(t){return e.props.editFileChangeValue("link",t.target.value)}}))),a.default.createElement(u.ModalFooter,null,a.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.hideEditFileModal},"Lukk"),a.default.createElement("button",{type:"button",className:"btn btn-primary",disabled:c,onClick:function(){return e.props.putAdminEditFile(n,r,d,!1)}},c?"Vent litt...":"Lagre"),a.default.createElement("button",{type:"button",className:"btn btn-primary",disabled:c,onClick:function(){return e.props.putAdminEditFile(n,r,d,!0)}},c?"Vent litt...":"Lagre og lukk")))}}]),t}(),_={hideEditFileModal:d.hideEditFileModal,putAdminEditFile:d.putAdminEditFile,editFileToggleCheckbox:function(e){return{type:f.ADMIN_EDIT_FILE_TOGGLE_CHECKBOX,id:e}},editFileChangeParent:function(e){return{type:f.ADMIN_EDIT_FILE_CHANGE_PARENT,parent:e}},editFileChangeValue:function(e,t){return{type:f.ADMIN_EDIT_FILE_CHANGE_VALUE,id:e,value:t}}};t.default=(0,c.connect)(function(e){var t=e.editFile;return{fileId:t.fileId,courseId:t.courseId,data:t.data,putStarted:t.putStarted}},_)(E)},141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mapUpdateFile=function(e,t){return{id:t.id,name:t.name,slug:t.slug,uri:t.uri,parent:t.parent,empty:t.empty,checksum:t.checksum,size:t.size,directory:t.directory,pending:t.pending,deleted:t.deleted,link:t.link,course:e}}},142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(0)),a=n(2),l=d(n(100)),o=n(101),i=n(62),u=n(43);function d(e){return e&&e.__esModule?e:{default:e}}var c={showCreateDirectoryModal:i.showCreateDirectoryModal,showEditFileModal:u.showEditFileModal};t.default=(0,a.connect)(function(){return{}},c)(function(e){var t=e.content,n=e.disabled;return r.default.createElement(o.FileListingBox,{box_title_class:"box-title-links",disabled:n,content:r.default.createElement(l.default,{course:t.id,files:t.children})},r.default.createElement(r.default.Fragment,null,r.default.createElement("a",{href:"#",onClick:function(n){n.preventDefault(),e.showEditFileModal(t.id,t.id)}},t.courseName," — ",t.courseCode)," ",r.default.createElement("i",{className:"fa fa-plus-square",onClick:function(){return e.showCreateDirectoryModal(t.id,t.id,t.courseCode+": "+t.courseName)}})," ",r.default.createElement("a",{href:t.url,target:"_blank"},r.default.createElement("i",{className:"fa fa-external-link"}))))})},143:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDirectory=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(63),l={started:!1,finished:!1,failed:!1,showModal:!1,directoryId:null,courseId:null,title:"",value:""};t.createDirectory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.ADMIN_CREATE_DIRECTORY_POST_STARTED:return r({},e,{value:"",started:!0,showModal:!1});case a.ADMIN_CREATE_DIRECTORY_POST_FINISHED:return r({},e,{finished:!0,started:!1});case a.ADMIN_CREATE_DIRECTORY_POST_FAILED:return r({},e,{failed:!0,started:!1});case a.ADMIN_CREATE_DIRECTORY_SHOW_MODAL:return r({},e,{showModal:!0,directoryId:t.id,courseId:t.course,title:t.title});case a.ADMIN_CREATE_DIRECTORY_HIDE_MODAL:return r({},e,{showModal:!1});case a.ADMIN_CREATE_DIRECTORY_UPDATE_VALUE:return r({},e,{value:t.value});default:return e}}},144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.files=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(81),l=n(145),o=n(63),i=n(44),u={started:!1,finished:!1,failed:!1,data:[]};t.files=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.ADMIN_FILES_FETCH_STARTED:return r({},e,{started:!0});case a.ADMIN_FILES_FETCH_FINISHED:return r({},e,{data:(0,l.mapData)(t.data),finished:!0,started:!1});case a.ADMIN_FILES_FETCH_FAILED:return r({},e,{failed:!0,started:!1});case o.ADMIN_CREATE_DIRECTORY_POST_STARTED:case i.ADMIN_EDIT_FILE_PUT_STARTED:return r({},e,{data:(0,l.mapDisabled)(t.course,e.data)});case o.ADMIN_CREATE_DIRECTORY_POST_FINISHED:return r({},e,{data:(0,l.mapUpdated)(t.data,e.data)});case i.ADMIN_EDIT_FILE_PUT_FINISHED:return r({},e,{data:(0,l.mapUpdated)(t.data.course,e.data)});default:return e}}},145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUpdated=t.mapDisabled=t.mapData=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(18),l=(t.mapData=function(e){return e.map(function(e){return l(e)})},t.mapDisabled=function(e,t){return t.map(function(t){return r({},t,{disabled:e===t.course||t.disabled})})},t.mapUpdated=function(e,t){return t.map(function(t){return t.course!==e.id?t:l(e)})},function(e){return{content:e,pending:o(e),disabled:!1,course:e.id}}),o=function(e){return i(e).filter(function(e){return 1===e.pending})},i=function e(t){if(!t.children)return t;var n=t.children.filter(function(e){return(e.type===a.TYPE_FILE||e.type===a.TYPE_LINK)&&e.pending}),r=t.children.filter(function(e){return e.type===a.TYPE_DIRECTORY});return 0===r.length?n:n.concat(r.flatMap(function(t){return e(t)}))}},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editFile=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(44);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={fetchStarted:!1,fetchFinished:!1,fetchFailed:!1,putStarted:!1,putFinished:!1,putFailed:!1,showModal:!1,courseId:null,fileId:null,data:{}};t.editFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.ADMIN_EDIT_FILE_SHOW_MODAL:return r({},e,{showModal:!0,courseId:t.courseId,fileId:t.fileId});case a.ADMIN_EDIT_FILE_HIDE_MODAL:return r({},e,{showModal:!1});case a.ADMIN_EDIT_FILE_FETCH_STARTED:return r({},e,{fetchStarted:!0});case a.ADMIN_EDIT_FILE_FETCH_FINISHED:return r({},e,{fetchStarted:!1,fetchFinished:!0,data:t.data});case a.ADMIN_EDIT_FILE_FETCH_FAILED:return r({},e,{showModal:!1,fetchStarted:!1,fetchFailed:!0});case a.ADMIN_EDIT_FILE_PUT_STARTED:return r({},e,{putStarted:!0});case a.ADMIN_EDIT_FILE_PUT_FINISHED:return r({},e,{putFinished:!0,putStarted:!1,data:t.data.element});case a.ADMIN_EDIT_FILE_PUT_FAILED:return r({},e,{putFailed:!0,putStarted:!1});case a.ADMIN_EDIT_FILE_TOGGLE_CHECKBOX:return r({},e,{data:r({},e.data,l({},t.id,1===e.data[t.id]?0:1))});case a.ADMIN_EDIT_FILE_CHANGE_PARENT:return r({},e,{data:r({},e.data,{parent:t.parent})});case a.ADMIN_EDIT_FILE_CHANGE_VALUE:return r({},e,{data:r({},e.data,l({},t.id,t.value))});default:return e}}},147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAdminFiles=void 0;var r=n(81);t.fetchAdminFiles=function(e){return function(t){t({type:r.ADMIN_FILES_FETCH_STARTED}),e().then(function(e){return e.json()}).then(function(e){return t({type:r.ADMIN_FILES_FETCH_FINISHED,data:e.data})}).catch(function(e){console.error(e),t({type:r.ADMIN_FILES_FETCH_FAILED})})}}},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TYPE_LINK="LINK",t.TYPE_FILE="FILE",t.TYPE_DIRECTORY="DIRECTORY",t.TYPE_COURSE="COURSE"},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.putAdminEditFile=t.showEditFileModal=t.hideEditFileModal=void 0;var r=n(80),a=n(44),l=n(141);t.hideEditFileModal=function(){return{type:a.ADMIN_EDIT_FILE_HIDE_MODAL}},t.showEditFileModal=function(e,t){return function(n){n({type:a.ADMIN_EDIT_FILE_SHOW_MODAL,courseId:e,fileId:t}),n({type:a.ADMIN_EDIT_FILE_FETCH_STARTED}),(0,r.fetchAdminFileDetailsRest)(t).then(function(e){return e.json()}).then(function(e){return n({type:a.ADMIN_EDIT_FILE_FETCH_FINISHED,data:e.data})}).catch(function(e){console.error(e),alert("Her gikk visst noe galt!"),n({type:a.ADMIN_EDIT_FILE_FETCH_FAILED})})}},t.putAdminEditFile=function(e,t,n,o){return function(i){i({type:a.ADMIN_EDIT_FILE_PUT_STARTED,course:t}),o&&i({type:a.ADMIN_EDIT_FILE_HIDE_MODAL}),(0,r.putAdminEditFileRest)(e,(0,l.mapUpdateFile)(t,n)).then(function(e){return e.json()}).then(function(e){return i({type:a.ADMIN_EDIT_FILE_PUT_FINISHED,data:e.data})}).catch(function(e){console.error(e),alert("Her gikk visst noe galt!"),i({type:a.ADMIN_EDIT_FILE_PUT_FAILED})})}}},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADMIN_EDIT_FILE_FETCH_STARTED="ADMIN_EDIT_FILE_FETCH_STARTED",t.ADMIN_EDIT_FILE_FETCH_FINISHED="ADMIN_EDIT_FILE_FETCH_FINISHED",t.ADMIN_EDIT_FILE_FETCH_FAILED="ADMIN_EDIT_FILE_FETCH_FAILED",t.ADMIN_EDIT_FILE_PUT_STARTED="ADMIN_EDIT_FILE_PUT_STARTED",t.ADMIN_EDIT_FILE_PUT_FINISHED="ADMIN_EDIT_FILE_PUT_FINISHED",t.ADMIN_EDIT_FILE_PUT_FAILED="ADMIN_EDIT_FILE_PUT_FAILED",t.ADMIN_EDIT_FILE_SHOW_MODAL="ADMIN_EDIT_FILE_SHOW_MODAL",t.ADMIN_EDIT_FILE_HIDE_MODAL="ADMIN_EDIT_FILE_HIDE_MODAL",t.ADMIN_EDIT_FILE_TOGGLE_CHECKBOX="ADMIN_EDIT_FILE_TOGGLE_CHECKBOX",t.ADMIN_EDIT_FILE_CHANGE_PARENT="ADMIN_EDIT_FILE_CHANGE_PARENT",t.ADMIN_EDIT_FILE_CHANGE_VALUE="ADMIN_EDIT_FILE_CHANGE_VALUE"},559:function(e,t,n){"use strict";var r=c(n(0)),a=c(n(16)),l=n(2),o=c(n(560)),i=c(n(561)),u=n(147),d=n(563);function c(e){return e&&e.__esModule?e:{default:e}}var s=window.__INITIAL_STATE__,f=(0,i.default)(s);f.dispatch((0,u.fetchAdminFiles)(d.fetchAdminFilesRest)),a.default.render(r.default.createElement(l.Provider,{store:f},r.default.createElement(o.default,null)),document.getElementById("admin-files"))},560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=n(2),l=i(n(137)),o=i(n(142));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.connect)(function(e){return{data:e.files.data}})(function(e){var t=e.data;return r.default.createElement(l.default,null,t.map(function(e){return r.default.createElement("div",{className:"col-md-6",key:e.content.id},r.default.createElement(o.default,{content:e.content,disabled:e.disabled}))}))})},561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[a.default];return(0,r.createStore)(l.default,e,(0,r.compose)(r.applyMiddleware.apply(void 0,t),function(e){return e}))};var r=n(9),a=o(n(27)),l=o(n(562));function o(e){return e&&e.__esModule?e:{default:e}}},562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),a=n(143),l=n(144),o=n(146),i=(0,r.combineReducers)({files:l.files,createDirectory:a.createDirectory,editFile:o.editFile});t.default=i},563:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchAdminFilesRest=function(){return fetch("/rest/admin/files")}},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.Modal=function(e){var t=e.children,n=e.onClose;return r.default.createElement("div",{className:"modal fade in",tabIndex:"-1",role:"dialog",style:{display:"block",paddingRight:"15px"},onClick:function(e){e.target===e.currentTarget&&n()}},r.default.createElement("div",{className:"modal-dialog",role:"document"},r.default.createElement("div",{className:"modal-content"},t)))}},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalTitle=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.ModalTitle=function(e){var t=e.title,n=e.onClose;return r.default.createElement("div",{className:"modal-header"},r.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:n},r.default.createElement("span",{"aria-hidden":"true"},"×")),r.default.createElement("h4",{className:"modal-title"},t))}},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalBody=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.ModalBody=function(e){var t=e.children;return r.default.createElement("div",{className:"modal-body"},t)}},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postAdminCreateDirectory=t.updateModalValue=t.hideCreateDirectoryModal=t.showCreateDirectoryModal=void 0;var r=n(80),a=n(63);t.showCreateDirectoryModal=function(e,t,n){return{type:a.ADMIN_CREATE_DIRECTORY_SHOW_MODAL,id:e,course:t,title:n}},t.hideCreateDirectoryModal=function(){return{type:a.ADMIN_CREATE_DIRECTORY_HIDE_MODAL}},t.updateModalValue=function(e){return{type:a.ADMIN_CREATE_DIRECTORY_UPDATE_VALUE,value:e}},t.postAdminCreateDirectory=function(e,t,n){return function(l){l({type:a.ADMIN_CREATE_DIRECTORY_POST_STARTED,course:t}),(0,r.postAdminCreateDirectoryRest)(e,t,n).then(function(e){return e.json()}).then(function(e){return l({type:a.ADMIN_CREATE_DIRECTORY_POST_FINISHED,data:e.data})}).catch(function(e){console.error(e),alert("Her gikk visst noe galt!"),l({type:a.ADMIN_CREATE_DIRECTORY_POST_FAILED})})}}},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADMIN_CREATE_DIRECTORY_POST_STARTED="ADMIN_CREATE_DIRECTORY_POST_STARTED",t.ADMIN_CREATE_DIRECTORY_POST_FINISHED="ADMIN_CREATE_DIRECTORY_POST_FINISHED",t.ADMIN_CREATE_DIRECTORY_POST_FAILED="ADMIN_CREATE_DIRECTORY_POST_FAILED",t.ADMIN_CREATE_DIRECTORY_SHOW_MODAL="ADMIN_CREATE_DIRECTORY_SHOW_MODAL",t.ADMIN_CREATE_DIRECTORY_HIDE_MODAL="ADMIN_CREATE_DIRECTORY_HIDE_MODAL",t.ADMIN_CREATE_DIRECTORY_UPDATE_VALUE="ADMIN_CREATE_DIRECTORY_UPDATE_VALUE"},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatJavaScriptDateHumanReadable=t.fromDatabaseDateToJavaScriptDate=t.randomBetween=t.loading=t.formatThousandNumber=t.formatNumber=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=o(n(39)),l=o(n(32));function o(e){return e&&e.__esModule?e:{default:e}}t.formatNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},t.formatThousandNumber=function(e){return e<=999?e:e%1e3==0?e/1e3+"k":(e/1e3).toFixed(1)+"k"},t.loading=function(e,t){return!e&&!t||e&&!t},t.randomBetween=function(e,t){return Math.floor(Math.random()*t)+e},t.fromDatabaseDateToJavaScriptDate=function(e){var t=e.split(" "),n=r(t,2),a=n[0],l=n[1],o=a.split("-").map(function(e){return parseInt(e)}),i=r(o,3),u=i[0],d=i[1],c=i[2],s=l.split(":").map(function(e){return parseInt(e)}),f=r(s,3),E=f[0],_=f[1],p=f[2];return new Date(u,d-1,c,E,_,p)},t.formatJavaScriptDateHumanReadable=function(e){return(0,a.default)(e,"D. MMM YYYY @ HH:mm:ss",{locale:l.default})}},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KEYCODE_ENTER=13},79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalFooter=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.ModalFooter=function(e){var t=e.children;return r.default.createElement("div",{className:"modal-footer"},t)}},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.postAdminCreateDirectoryRest=function(e,t,n){return fetch("/rest/admin/files/directory",{body:JSON.stringify({directory:e,course:t,value:n}),method:"PUT"})},t.putAdminEditFileRest=function(e,t){return fetch("/rest/admin/files/"+e,{body:JSON.stringify(t),method:"PUT"})},t.fetchAdminFileDetailsRest=function(e){return fetch("/rest/admin/files/"+e)}},81:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADMIN_FILES_FETCH_STARTED="ADMIN_FILES_FETCH_STARTED",t.ADMIN_FILES_FETCH_FINISHED="ADMIN_FILES_FETCH_FINISHED",t.ADMIN_FILES_FETCH_FAILED="ADMIN_FILES_FETCH_FAILED"}});